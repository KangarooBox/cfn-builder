{{!--
  Creates an API GatewayV2 Deployment

  https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-apigatewayv2-deployment.html
 --}}

"apiv2dep{{sanitize this.Name ''}}": {
  "Type" : "AWS::ApiGatewayV2::Deployment",
  "Properties" : {

    {{#if this.Description}}
      "Description": "{{this.Description}}"
    {{/if}}

    "StageName": "{{this.StageName}}",
    "ApiId": {{#ifObject this.ApiId}}
        { {{{inject this.ApiId}}} }
      {{else}}
        { "Ref":"apiv2{{this.ApiId}}" }
      {{/ifObject}}
    }
}

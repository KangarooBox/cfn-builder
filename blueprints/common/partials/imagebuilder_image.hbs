{{!--
  Creates an Image Builder Image
https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-imagebuilder-image.html
--}}

"imagebuilder{{sanitize this.Name ''}}":{
  "Type" : "AWS::ImageBuilder::Image",
  "Properties" : {

        "ImageRecipeArn" : "{{this.ImageRecipeArn}}",

        "InfrastructureConfigurationArn" : "{{this.InfrastructureConfigurationArn}}"

      {{#if this.ImageTestsConfiguration}}
        "ImageTestsConfiguration": { {{{inject this.ImageTestsConfiguration}}} },
      {{/if}}

      {{#if this.EnhancedImageMetadataEnabled}}
        "EnhancedImageMetadataEnabled" : {{default (toString this.EnhancedImageMetadataEnabled) false}},
      {{/if}}

      {{#if this.DistributionConfigurationArn}}
        "DistributionConfigurationArn" : "{{this.DistributionConfigurationArn}}",
      {{/if}}

      {{> tags_}}
    }
}

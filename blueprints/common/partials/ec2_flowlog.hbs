{{!--
  Creates an Amazon Elastic Compute Cloud (Amazon EC2) flow log that captures IP traffic for a specified network
  interface, subnet, or VPC.

  http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-flowlog.html
 --}}
"ec2fl{{this.Name}}": {
  "Type":"AWS::EC2::FlowLog",
  "Properties":{
    {{#if this.DeliverLogsPermissionArn}}"DeliverLogsPermissionArn":
      {{#startsWith "arn:aws:" this.DeliverLogsPermissionArn}}"{{this.DeliverLogsPermissionArn}}"
    {{else}}
      { "Fn::GetAtt":["iamr{{this.DeliverLogsPermissionArn}}","Arn"]}
    {{/startsWith}},{{/if}}
    {{#if this.LogGroupName}}"LogGroupName":"{{this.LogGroupName}}",{{/if}}
    "ResourceType":"{{this.ResourceType}}",
    "ResourceId":"{{this.ResourceId}}",
    "TrafficType":"{{this.TrafficType}}"
  }
}
